---
layout: post
title: "RSpec and TextMate"
date: 2009-11-13
tags: ["ruby", "software development"]
comments: false
---
{% include JB/setup %}

<div class='post'>
Just struggled to get the <a href="http://rspec.info/" target="_blank">RSpec</a> bundle working with <a href="http://macromates.com/" target="_blank">TextMate</a>. After installing the bundle as described on the <a href="http://rspec.info/documentation/tools/extensions/editors/textmate.html" target="_blank">RSpec site</a>, I kept getting the following error message:<br /><br /><span style="font-size:85%;"><span style="font-family:courier new;">Library/Application Support/TextMate/Bundles/RSpec.tmbundle/Support/lib/spec/mate.rb:4:in `join': can't convert nil into String (TypeError)</span></span><br /><br />After a few hours of fruitless searching on the web, it occured to me that I should maybe have a look at the file listed in the error message above (<span style="font-size:85%;"><span style="font-family:courier new;">mate.rb:4</span></span>).<br /><br /><span style="font-size:85%;"><span style="font-family:courier new;">File.join(ENV['TM_PROJECT_DIRECTORY'],'vendor','plugins','rspec','lib')</span></span><br /><br />The bundle basically failed, because the <span style=";font-family:courier new;font-size:85%;">TM_PROJECT_DIRECTORY</span> variable was not set.<br /><br />So, instead of trying to run the file in standalone mode, I pulled the spec file into a new project (⌃⌘N) and ran it again.<br /><br />Et voilà. No errors this time round. ...and thanks so much for the helpful error message, RSpec-TextMate-bundle! *grrr*
</div>
